{"version":3,"file":"TypeClass.js","sourceRoot":"","sources":["TypeClass.ts"],"names":[],"mappings":";AAAA,gEAAgE;AAChE,sCAAsC;;;;;;AAEtC,oDAA4B;AAK5B,MAAa,SAAS;IACpB,YACS,IAAY,EACX,SAAwC,EACxC,OAAgB,EAChB,YAAqB,EACrB,cAA+B;QAJhC,SAAI,GAAJ,IAAI,CAAQ;QACX,cAAS,GAAT,SAAS,CAA+B;QACxC,YAAO,GAAP,OAAO,CAAS;QAChB,iBAAY,GAAZ,YAAY,CAAS;QACrB,mBAAc,GAAd,cAAc,CAAiB;IACtC,CAAC;IACJ,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IACD,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IACD,IAAI,aAAa;QACf,IAAA,gBAAM,EAAC,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE,QAAQ,IAAI,CAAC,IAAI,6CAA6C,CAAC,CAAC;QAC1G,OAAO,IAAI,CAAC,cAAc,CAAC;IAC7B,CAAC;IACD,QAAQ,CAAC,IAAS;QAChB,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE;YAChC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;SAC1C;QACD,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;CACF;AAxBD,8BAwBC","sourcesContent":["// Copyright 2020-2022 OnFinality Limited authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\nimport assert from 'assert';\nimport {DataTypes} from 'sequelize';\ntype ValueOf<T> = T[keyof T];\nexport type SequelizeTypes = string | ValueOf<typeof DataTypes>;\n\nexport class TypeClass {\n  constructor(\n    public name: string,\n    private _hashCode: (data: unknown) => Uint8Array,\n    private _tsType?: string,\n    private _fieldScalar?: string,\n    private _sequelizeType?: SequelizeTypes\n  ) {}\n  get tsType(): string | undefined {\n    return this._tsType;\n  }\n  get fieldScalar(): string | undefined {\n    return this._fieldScalar;\n  }\n  get sequelizeType(): SequelizeTypes {\n    assert(this._sequelizeType !== undefined, `Type ${this.name} associated sequelize type is not supported`);\n    return this._sequelizeType;\n  }\n  hashCode(data: any): Uint8Array {\n    if (this._hashCode === undefined) {\n      return Buffer.from(JSON.stringify(data));\n    }\n    return this._hashCode(data);\n  }\n}\n"]}